SERVER_SRC = mainServer.cpp Server.cpp Client.cpp
CLIENT_SRC = mainClient.cpp Game.cpp
CC = c++ -g -std=c++11
LFLAGS = -framework OpenGL -framework AppKit
MLXDIR = mlx-mac

all: MINILIBX server client

server:
	$(CC) $(SERVER_SRC) -o server

ss: re
	./server

client:
	$(CC) $(LFLAGS) $(CLIENT_SRC) -o client $(MLXDIR)/libmlx.a

MINILIBX:
	make -C $(MLXDIR) --silent
	@echo "MINILIBX compiled !"

clean :
	rm -rf server
	rm -rf client

rec: clean client

res: clean server

re: clean all
